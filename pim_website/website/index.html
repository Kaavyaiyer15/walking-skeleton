<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notes App</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #0f0f0f;
        background-image: radial-gradient(
            circle at 25% 25%,
            #1a1a1a 0%,
            transparent 50%
          ),
          radial-gradient(circle at 75% 75%, #1a1a1a 0%, transparent 50%),
          radial-gradient(circle at 50% 50%, #111111 0%, transparent 50%);
        min-height: 100vh;
        color: #e5e5e5;
      }

      .container {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .header {
        background: rgba(30, 30, 30, 0.95);
        backdrop-filter: blur(10px);
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .header h1 {
        color: #ffffff;
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .content {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }

      .auth-section {
        width: 100%;
        max-width: 450px;
      }

      .auth-container {
        background: rgba(30, 30, 30, 0.95);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .auth-toggle {
        display: flex;
        background: rgba(40, 40, 40, 0.5);
        border-radius: 12px;
        padding: 4px;
        margin-bottom: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .toggle-btn {
        flex: 1;
        background: transparent;
        border: none;
        padding: 12px 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 8px;
        font-weight: 600;
        color: #9ca3af;
        font-size: 1rem;
      }

      .toggle-btn.active {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 8px 15px rgba(99, 102, 241, 0.4);
      }

      .toggle-btn:hover:not(.active) {
        background: rgba(99, 102, 241, 0.2);
        transform: translateY(-1px);
        color: #d1d5db;
      }

      .auth-form {
        display: none;
      }

      .auth-form.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .auth-form h2 {
        text-align: center;
        margin-bottom: 2rem;
        color: #ffffff;
        font-size: 1.8rem;
        font-weight: 700;
      }

      .auth-form input {
        width: 100%;
        padding: 1rem 1.25rem;
        margin-bottom: 1.5rem;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: rgba(40, 40, 40, 0.8);
        color: #ffffff;
      }

      .auth-form input::placeholder {
        color: #9ca3af;
      }

      .auth-form input:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        transform: translateY(-2px);
        background: rgba(50, 50, 50, 0.9);
      }

      .btn {
        width: 100%;
        padding: 1rem 1.5rem;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4);
      }

      .btn:active {
        transform: translateY(0);
      }

      .user-info {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .user-info span {
        color: #e5e5e5;
        font-weight: 600;
        background: rgba(40, 40, 40, 0.8);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .btn-logout {
        width: auto;
        padding: 0.5rem 1.5rem;
        background: linear-gradient(135deg, #ef4444, #dc2626);
        font-size: 0.9rem;
      }

      .btn-logout:hover {
        box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
      }

      .hidden {
        display: none !important;
      }

      /* Notes Section Styling */
      .notes-section {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        display: none;
      }

      .notes-section.active {
        display: block;
      }

      .notes-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        background: rgba(30, 30, 30, 0.95);
        padding: 1.5rem 2rem;
        border-radius: 20px;
        backdrop-filter: blur(15px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .notes-header h2 {
        color: #ffffff;
        font-size: 1.8rem;
        font-weight: 700;
      }

      .btn-add {
        width: auto;
        padding: 0.75rem 1.5rem;
        background: linear-gradient(135deg, #10b981, #059669);
        font-size: 1rem;
      }

      .btn-add:hover {
        box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
      }

      .note-form {
        background: rgba(30, 30, 30, 0.95);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: none;
      }

      .note-form.active {
        display: block;
      }

      .note-form h3 {
        color: #ffffff;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
      }

      .note-form input,
      .note-form textarea {
        width: 100%;
        padding: 1rem 1.25rem;
        margin-bottom: 1.5rem;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        font-size: 1rem;
        background: rgba(40, 40, 40, 0.8);
        color: #ffffff;
        transition: all 0.3s ease;
        font-family: inherit;
      }

      .note-form input::placeholder,
      .note-form textarea::placeholder {
        color: #9ca3af;
      }

      .note-form input:focus,
      .note-form textarea:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        background: rgba(50, 50, 50, 0.9);
      }

      .note-form textarea {
        min-height: 150px;
        resize: vertical;
      }

      .form-buttons {
        display: flex;
        gap: 1rem;
      }

      .btn-save {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
      }

      .btn-cancel {
        background: linear-gradient(135deg, #6b7280, #4b5563);
        color: white;
      }

      #notesContainer {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
        min-height: 200px;
      }

      .loading {
        text-align: center;
        color: #e5e5e5;
        font-size: 1.2rem;
        padding: 2rem;
        background: rgba(30, 30, 30, 0.8);
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        grid-column: 1 / -1;
      }

      .empty-state {
        text-align: center;
        color: #9ca3af;
        font-size: 1.1rem;
        padding: 3rem 2rem;
        background: rgba(30, 30, 30, 0.8);
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        grid-column: 1 / -1;
      }

      .empty-state h3 {
        color: #ffffff;
        margin-bottom: 1rem;
        font-size: 1.5rem;
      }

      /* Message styling */
      .message {
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        text-align: center;
        font-weight: 600;
        background: rgba(40, 40, 40, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #e5e5e5;
        display: none;
      }

      .message.show {
        display: block;
      }

      .message.success {
        background: rgba(16, 185, 129, 0.2);
        border-color: rgba(16, 185, 129, 0.3);
        color: #10b981;
      }

      .message.error {
        background: rgba(239, 68, 68, 0.2);
        border-color: rgba(239, 68, 68, 0.3);
        color: #ef4444;
      }

      /* Responsive design */
      @media (max-width: 768px) {
        .header {
          padding: 1rem;
          flex-direction: column;
          gap: 1rem;
        }

        .header h1 {
          font-size: 1.5rem;
        }

        .auth-container {
          padding: 2rem 1.5rem;
          margin: 1rem;
        }

        .content {
          padding: 1rem;
        }

        .notes-header {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }

        .form-buttons {
          flex-direction: column;
        }

        .user-info {
          flex-direction: column;
          gap: 0.5rem;
          text-align: center;
        }

        #notesContainer {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Notes App</h1>
        <div class="user-info hidden" id="userInfo">
          <span id="userEmail"></span>
          <button class="btn btn-logout" onclick="logout()">Logout</button>
        </div>
      </div>

      <div class="content">
        <!-- Authentication -->
        <div class="auth-section" id="authSection">
          <div class="auth-container">
            <!-- Toggle Buttons -->
            <div class="auth-toggle">
              <button
                class="toggle-btn active"
                id="loginToggle"
                onclick="showLogin()"
              >
                Login
              </button>
              <button
                class="toggle-btn"
                id="signupToggle"
                onclick="showSignup()"
              >
                Sign Up
              </button>
            </div>

            <!-- Login Form -->
            <form
              id="loginForm"
              class="auth-form active"
              onsubmit="handleLogin(event)"
            >
              <h2>Welcome Back</h2>
              <div id="loginMessage" class="message"></div>
              <input
                type="email"
                id="loginEmail"
                placeholder="Email"
                required
              />
              <input
                type="password"
                id="loginPassword"
                placeholder="Password"
                required
              />
              <button class="btn" type="submit">Login</button>
            </form>

            <!-- Register Form -->
            <form
              id="registerForm"
              class="auth-form"
              onsubmit="handleRegister(event)"
            >
              <h2>Create Account</h2>
              <div id="registerMessage" class="message"></div>
              <input
                type="email"
                id="registerEmail"
                placeholder="Email"
                required
              />
              <input
                type="password"
                id="registerPassword"
                placeholder="Password"
                required
              />
              <button class="btn" type="submit">Create Account</button>
            </form>
          </div>
        </div>

        <!-- Notes -->
        <div class="notes-section" id="notesSection">
          <div class="notes-header">
            <h2>My Notes</h2>
            <button class="btn btn-add" onclick="showNoteForm()">
              ➕ Add Note
            </button>
          </div>

          <div id="notesMessage" class="message"></div>

          <!-- Note Form -->
          <div class="note-form" id="noteForm">
            <h3 id="formTitle">Add New Note</h3>
            <input
              type="text"
              id="noteTitle"
              placeholder="Note title..."
              maxlength="100"
              required
            />
            <textarea
              id="noteBody"
              placeholder="Write your note here..."
              required
            ></textarea>
            <div class="form-buttons">
              <button class="btn btn-save" onclick="saveNote()">
                💾 Save Note
              </button>
              <button class="btn btn-cancel" onclick="cancelNoteForm()">
                ❌ Cancel
              </button>
            </div>
          </div>

          <div id="notesContainer">
            <!-- Notes will be loaded here -->
          </div>
        </div>
      </div>
    </div>

    <script>
      // State management
      let currentUser = null;
      let notes = [];
      let editingNoteId = null;

      // Initialize app
      function init() {
        // Check if user is logged in (you can implement proper auth logic here)
        const savedEmail = localStorage.getItem("userEmail");
        if (savedEmail) {
          loginUser(savedEmail);
        } else {
          showAuthSection();
        }
      }

      // Toggle between login and signup forms
      function showLogin() {
        document.getElementById("loginForm").classList.add("active");
        document.getElementById("registerForm").classList.remove("active");
        document.getElementById("loginToggle").classList.add("active");
        document.getElementById("signupToggle").classList.remove("active");
        clearMessages();
      }

      function showSignup() {
        document.getElementById("registerForm").classList.add("active");
        document.getElementById("loginForm").classList.remove("active");
        document.getElementById("signupToggle").classList.add("active");
        document.getElementById("loginToggle").classList.remove("active");
        clearMessages();
      }

      // Clear all messages
      function clearMessages() {
        const messages = document.querySelectorAll(".message");
        messages.forEach((msg) => {
          msg.classList.remove("show", "success", "error");
          msg.textContent = "";
        });
      }

      // Show message
      function showMessage(elementId, text, type = "info") {
        const messageEl = document.getElementById(elementId);
        messageEl.textContent = text;
        messageEl.className = `message show ${type}`;

        // Auto hide after 5 seconds
        setTimeout(() => {
          messageEl.classList.remove("show");
        }, 5000);
      }

      // Auth handlers
      function handleLogin(event) {
        event.preventDefault();
        const email = document.getElementById("loginEmail").value;
        const password = document.getElementById("loginPassword").value;

        // Simple validation (implement proper auth)
        if (email && password) {
          showMessage("loginMessage", "Login successful!", "success");
          setTimeout(() => {
            loginUser(email);
          }, 1000);
        } else {
          showMessage("loginMessage", "Please fill in all fields", "error");
        }
      }

      function handleRegister(event) {
        event.preventDefault();
        const email = document.getElementById("registerEmail").value;
        const password = document.getElementById("registerPassword").value;

        // Simple validation (implement proper auth)
        if (email && password) {
          if (password.length < 6) {
            showMessage(
              "registerMessage",
              "Password must be at least 6 characters",
              "error"
            );
            return;
          }
          showMessage(
            "registerMessage",
            "Account created successfully!",
            "success"
          );
          setTimeout(() => {
            loginUser(email);
          }, 1000);
        } else {
          showMessage("registerMessage", "Please fill in all fields", "error");
        }
      }

      function loginUser(email) {
        currentUser = email;
        localStorage.setItem("userEmail", email);

        // Update UI
        document.getElementById("userEmail").textContent = email;
        document.getElementById("userInfo").classList.remove("hidden");

        // Switch to notes view
        showNotesSection();
        loadNotes();
      }

      function showAuthSection() {
        document.getElementById("authSection").style.display = "block";
        document.getElementById("notesSection").classList.remove("active");
        resetAuthForms();
      }

      function showNotesSection() {
        document.getElementById("authSection").style.display = "none";
        document.getElementById("notesSection").classList.add("active");
      }

      // Reset to login form when logging out
      function resetAuthForms() {
        showLogin();
        // Clear form fields
        document.getElementById("loginForm").reset();
        document.getElementById("registerForm").reset();
        clearMessages();
      }

      // Logout function
      function logout() {
        currentUser = null;
        localStorage.removeItem("userToken");
        localStorage.removeItem("userEmail");

        // Reset UI
        document.getElementById("userInfo").classList.add("hidden");

        // Show auth section
        showAuthSection();

        // Clear notes
        notes = [];
        document.getElementById("notesContainer").innerHTML = "";

        // Hide note form
        cancelNoteForm();
        clearMessages();
      }

      // Note management functions
      function showNoteForm() {
        editingNoteId = null;
        document.getElementById("noteForm").classList.add("active");
        document.getElementById("formTitle").textContent = "Add New Note";
        document.getElementById("noteTitle").value = "";
        document.getElementById("noteBody").value = "";
        document.getElementById("noteTitle").focus();
      }

      function cancelNoteForm() {
        document.getElementById("noteForm").classList.remove("active");
        document.getElementById("noteTitle").value = "";
        document.getElementById("noteBody").value = "";
        editingNoteId = null;
      }

      function saveNote() {
        const title = document.getElementById("noteTitle").value.trim();
        const body = document.getElementById("noteBody").value.trim();

        if (!title || !body) {
          showMessage(
            "notesMessage",
            "Please fill in both title and content",
            "error"
          );
          return;
        }

        const note = {
          id: editingNoteId || Date.now(),
          title: title,
          body: body,
          createdAt: editingNoteId
            ? notes.find((n) => n.id === editingNoteId).createdAt
            : new Date().toISOString(),
          updatedAt: new Date().toISOString(),
        };

        if (editingNoteId) {
          // Update existing note
          const index = notes.findIndex((n) => n.id === editingNoteId);
          notes[index] = note;
          showMessage("notesMessage", "Note updated successfully!", "success");
        } else {
          // Add new note
          notes.unshift(note);
          showMessage("notesMessage", "Note added successfully!", "success");
        }

        saveNotesToStorage();
        renderNotes();
        cancelNoteForm();
      }

      function editNote(id) {
        const note = notes.find((n) => n.id === id);
        if (note) {
          editingNoteId = id;
          document.getElementById("formTitle").textContent = "Edit Note";
          document.getElementById("noteTitle").value = note.title;
          document.getElementById("noteBody").value = note.body;
          document.getElementById("noteForm").classList.add("active");
          document.getElementById("noteTitle").focus();
        }
      }

      function deleteNote(id) {
        if (confirm("Are you sure you want to delete this note?")) {
          notes = notes.filter((n) => n.id !== id);
          saveNotesToStorage();
          renderNotes();
          showMessage("notesMessage", "Note deleted successfully!", "success");
        }
      }

      function loadNotes() {
        // Load notes from localStorage (simulate API call)
        const savedNotes = localStorage.getItem(`notes_${currentUser}`);
        notes = savedNotes ? JSON.parse(savedNotes) : [];
        renderNotes();
      }

      function saveNotesToStorage() {
        localStorage.setItem(`notes_${currentUser}`, JSON.stringify(notes));
      }

      function renderNotes() {
        const container = document.getElementById("notesContainer");

        if (notes.length === 0) {
          container.innerHTML = `
            <div class="empty-state">
              <h3>No notes yet</h3>
              <p>Click "Add Note" to create your first note!</p>
            </div>
          `;
          return;
        }

        container.innerHTML = notes
          .map(
            (note) => `
          <div class="note-card" style="
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
          " onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 35px rgba(0, 0, 0, 0.4)'" 
             onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 25px rgba(0, 0, 0, 0.3)'">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
              <h3 style="color: #ffffff; font-size: 1.2rem; font-weight: 600; margin: 0; flex: 1; margin-right: 1rem;">${escapeHtml(
                note.title
              )}</h3>
              <div style="display: flex; gap: 0.5rem;">
                <button onclick="editNote(${note.id})" style="
                  background: linear-gradient(135deg, #6366f1, #8b5cf6);
                  border: none;
                  border-radius: 6px;
                  padding: 0.4rem 0.8rem;
                  color: white;
                  cursor: pointer;
                  font-size: 0.8rem;
                  transition: all 0.2s ease;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">✏️ Edit</button>
                <button onclick="deleteNote(${note.id})" style="
                  background: linear-gradient(135deg, #ef4444, #dc2626);
                  border: none;
                  border-radius: 6px;
                  padding: 0.4rem 0.8rem;
                  color: white;
                  cursor: pointer;
                  font-size: 0.8rem;
                  transition: all 0.2s ease;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">🗑️ Delete</button>
              </div>
            </div>
            <p style="color: #e5e5e5; line-height: 1.6; margin-bottom: 1rem;">${escapeHtml(
              note.body
            ).substring(0, 150)}${note.body.length > 150 ? "..." : ""}</p>
            <div style="color: #9ca3af; font-size: 0.85rem;">
              Created: ${new Date(note.createdAt).toLocaleDateString()}
              ${
                note.updatedAt !== note.createdAt
                  ? `<br>Updated: ${new Date(
                      note.updatedAt
                    ).toLocaleDateString()}`
                  : ""
              }
            </div>
          </div>
        `
          )
          .join("");
      }

      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      // Initialize app when page loads
      document.addEventListener("DOMContentLoaded", init);
    </script>
  </body>
</html>
